<link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons.css">
<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/themes/smoothness/jquery-ui.css" />
<style>
.clickme:hover {
  cursor: pointer;
  background: rgba(122, 122, 122, 0.5);
}
</style>
<input type="text" class="textRef disab" style="margin-top: 20px; margin-left: 10px; width: 280px;" placeholder="Search Text">
<div class="suggestions" style="margin-left: 10px;">
<br>

</div>
<div class="sidebar bottom" style="position: fixed; background: white;">
<span class="gray branding-text">Sefaria AddOn by <a href="http://www.github.com/shman/">Shlomi Helfgot</a> &nbsp; </span>
</div>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
</script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
<script>
    $('.suggestions').html("<br><b>Enter search.</b>");
     $('.textRef').keyup(function(e) {
      var input = $('.textRef').val();
                  $('.suggestions').html('');
          google.script.run.withSuccessHandler(function(txtsrch) {
            for (var i=0; i<txtsrch.length; i++) {          
                  $('.suggestions').append("<div style='font-size: 2.5vh;' class='clickme'><h3 class='bt'>"+txtsrch[i]["_source"]["ref"]+"</h3>"+"<p>"+txtsrch[i]["_source"]["content"]+"</p></div>");
               }
         }).findSearch(input);
      });
      $('.clickme').on('click', function() {
                  var bookTitle = $(this).children('.bt').text();
                  google.script.run.findRef(bookTitle, true);
           });
</script>
